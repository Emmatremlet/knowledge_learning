{% extends 'base.html.twig' %}

{% block title %}Liste des Thèmes
{% endblock %}

{% block body %}
	<div class="container my-3">
		<h2 class="text-center primary mb-4">Liste des cours</h2>

		<div class="row justify-content-center">
			{% for theme in themes %}
				<div class="col-md-5 mx-2 mb-4">
					<div class="card shadow-lg position-relative" style="background-color: #f1f8fc; color: #384050;">
						<div class="card-body d-flex flex-column justify-content-start">
							<h5 class="card-title text-start primary" style="font-size: 25px;">{{ theme.name }}</h5>
							<p class="text-start secondary mb-4">{{ theme.description }}</p>

							{% for cursus in theme.cursuses %}
								<div
									class="position-relative my-4">
									<div class="position-absolute top-0 end-0 bg-primary text-white rounded-circle p-2 me-2 mt-2 shadow" style="width: 50px; height: 50px; display: flex; justify-content: center; align-items: center; border: 3px solid #f1f8fc;">
										<span class="text-nowrap" style="font-size: 15px; font-weight: bold;">{{ cursus.price }}
											€</span>
									</div>

									<h6 class="text-start primary mb-3" style="font-size: 20px;">{{ cursus.name }}</h6>
									<div class="mt-3">
										<h6 class="text-center secondary mb-3" style="font-size: 23px;">Leçons incluses :</h6>
										<ul class="list-unstyled">
											{% for lesson in cursus.lessons %}
												<li class="text-start mb-2">
													<strong>{{ lesson.name }}</strong>
													-
													<span class="text-muted">{{ lesson.price }}
														€</span>
													<div class="mt-2">
														<a href="/cart/add/lesson/{{ lesson.id }}" class="btn btn-outline-success w-100">Ajouter cette leçon au panier</a>
													</div>
												</li>
											{% endfor %}
										</ul>
									</div>

									<hr
									class="my-4" style="border-top: 2px dashed #384050;">

									<div class="text-center">
										<a href="/cart/add/cursus/{{ cursus.id }}" class="btn btn-primary w-100 py-2" style="font-size: 1.1rem;">
											Ajouter le cursus au panier
										</a>
									</div>
								</div>
							{% endfor %}
						</div>
					</div>
				</div>
			{% endfor %}
		</div>
	</div>
{% endblock %}

