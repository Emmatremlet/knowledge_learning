{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\ud83d\ude80 Documentation du Projet Symfony KNOWLEDGE LEARNING","text":"<p>Bienvenue dans la documentation officielle du projet Symfony KNOWLEDGE LEARNING.</p>"},{"location":"#presentation","title":"\ud83d\udccc Pr\u00e9sentation","text":"<p>Ce projet est une application Symfony permettant de g\u00e9rer un site e-commerce.</p>"},{"location":"#sommaire","title":"\ud83d\udcd6 Sommaire","text":"<ul> <li>\ud83d\udce5 Installation</li> <li>\ud83d\udda5\ufe0f Utilisation</li> <li>\ud83d\udd0c API</li> <li>\ud83c\udfd7\ufe0f Architecture</li> <li>\ud83d\udd10 S\u00e9curit\u00e9</li> <li>\ud83d\ude80 D\u00e9ploiement</li> </ul>"},{"location":"api/","title":"\ud83d\udd0c API REST","text":""},{"location":"api/#endpoints-disponibles","title":"\ud83d\udd39 Endpoints Disponibles","text":""},{"location":"api/#utilisateurs","title":"\ud83d\udccc Utilisateurs","text":""},{"location":"api/#recuperer-les-lecons-et-certifications-dun-utilisateur","title":"R\u00e9cup\u00e9rer les le\u00e7ons et certifications d'un utilisateur","text":"<p>GET <code>/my-lessons</code></p> <ul> <li>Description : Affiche les le\u00e7ons et certifications de l'utilisateur connect\u00e9.</li> <li>Controller : <code>UserController</code></li> </ul>"},{"location":"api/#authentification","title":"\ud83d\udccc Authentification","text":""},{"location":"api/#connexion-de-lutilisateur","title":"Connexion de l'utilisateur","text":"<p>GET <code>/login</code></p> <ul> <li>Description : Permet \u00e0 l'utilisateur de se connecter.</li> <li>Controller : <code>SecurityController</code></li> </ul>"},{"location":"api/#deconnexion-de-lutilisateur","title":"D\u00e9connexion de l'utilisateur","text":"<p>GET <code>/logout</code></p> <ul> <li>Description : D\u00e9connecte l'utilisateur connect\u00e9.</li> <li>Controller : <code>SecurityController</code></li> </ul>"},{"location":"api/#paiements-stripe","title":"\ud83d\udccc Paiements (Stripe)","text":""},{"location":"api/#creer-une-session-de-paiement-stripe","title":"Cr\u00e9er une session de paiement Stripe","text":"<p>POST <code>/checkout</code></p> <ul> <li>Description : Cr\u00e9e une session Stripe pour les articles dans le panier.</li> <li>Controller : <code>StripeController</code></li> </ul>"},{"location":"api/#succes-du-paiement","title":"Succ\u00e8s du paiement","text":"<p>GET <code>/checkout/success</code></p> <ul> <li>Description : Affiche un message de succ\u00e8s apr\u00e8s un paiement r\u00e9ussi.</li> <li>Controller : <code>StripeController</code></li> </ul>"},{"location":"api/#annuler-un-paiement","title":"Annuler un paiement","text":"<p>GET <code>/checkout/cancel</code></p> <ul> <li>Description : Redirige vers le panier apr\u00e8s l'annulation d'un paiement.</li> <li>Controller : <code>StripeController</code></li> </ul>"},{"location":"api/#gestion-des-webhooks-stripe","title":"Gestion des Webhooks Stripe","text":"<p>POST <code>/webhook</code></p> <ul> <li>Description : Traite les \u00e9v\u00e9nements Stripe via des webhooks (paiements, etc.).</li> <li>Controller : <code>StripeController</code></li> </ul>"},{"location":"api/#themes","title":"\ud83d\udccc Th\u00e8mes","text":""},{"location":"api/#lister-les-themes","title":"Lister les th\u00e8mes","text":"<p>GET <code>/theme</code></p> <ul> <li>Description : Liste tous les th\u00e8mes disponibles.</li> <li>Controller : <code>ThemeController</code></li> </ul>"},{"location":"api/#details-dun-theme","title":"D\u00e9tails d'un th\u00e8me","text":"<p>GET <code>/theme/{id}</code></p> <ul> <li>Description : Affiche les d\u00e9tails d'un th\u00e8me sp\u00e9cifique.</li> <li>Param\u00e8tres :</li> <li><code>{id}</code> : Identifiant du th\u00e8me.</li> <li>Controller : <code>ThemeController</code></li> </ul>"},{"location":"api/#ajouter-un-theme","title":"Ajouter un th\u00e8me","text":"<p>POST <code>/dashboard/theme</code></p> <ul> <li>Description : Permet d'ajouter un nouveau th\u00e8me.</li> <li>Controller : <code>ThemeController</code></li> </ul>"},{"location":"api/#modifier-un-theme","title":"Modifier un th\u00e8me","text":"<p>GET <code>/theme/edit/{id}</code></p> <ul> <li>Description : Permet de modifier un th\u00e8me existant.</li> <li>Param\u00e8tres :</li> <li><code>{id}</code> : Identifiant du th\u00e8me.</li> <li>Controller : <code>ThemeController</code></li> </ul>"},{"location":"api/#supprimer-un-theme","title":"Supprimer un th\u00e8me","text":"<p>DELETE <code>/theme/delete/{id}</code></p> <ul> <li>Description : Supprime un th\u00e8me.</li> <li>Param\u00e8tres :</li> <li><code>{id}</code> : Identifiant du th\u00e8me.</li> <li>Controller : <code>ThemeController</code></li> </ul>"},{"location":"api/#cursus","title":"\ud83d\udccc Cursus","text":""},{"location":"api/#lister-tous-les-cursus","title":"Lister tous les cursus","text":"<p>GET <code>/dashboard/cursus</code></p> <ul> <li>Description : Retourne la liste de tous les cursus disponibles.</li> <li>Controller : <code>CursusController</code></li> </ul>"},{"location":"api/#details-dun-cursus","title":"D\u00e9tails d'un cursus","text":"<p>GET <code>/cursus/{id}</code></p> <ul> <li>Param\u00e8tres :</li> <li><code>{id}</code> : Identifiant du cursus.</li> <li>Description : Affiche les d\u00e9tails d'un cursus sp\u00e9cifique.</li> <li>Controller : <code>CursusController</code></li> </ul>"},{"location":"api/#ajouter-un-cursus","title":"Ajouter un cursus","text":"<p>POST <code>/dashboard/cursus</code></p> <ul> <li>Description : Permet d'ajouter un nouveau cursus.</li> <li>Controller : <code>CursusController</code></li> </ul>"},{"location":"api/#modifier-un-cursus","title":"Modifier un cursus","text":"<p>GET <code>/cursus/edit/{id}</code></p> <ul> <li>Param\u00e8tres :</li> <li><code>{id}</code> : Identifiant du cursus.</li> <li>Description : Permet de modifier un cursus existant.</li> <li>Controller : <code>CursusController</code></li> </ul>"},{"location":"api/#supprimer-un-cursus","title":"Supprimer un cursus","text":"<p>DELETE <code>/cursus/delete/{id}</code></p> <ul> <li>Param\u00e8tres :</li> <li><code>{id}</code> : Identifiant du cursus.</li> <li>Description : Supprime un cursus existant.</li> <li>Controller : <code>CursusController</code></li> </ul>"},{"location":"api/#lecons","title":"\ud83d\udccc Le\u00e7ons","text":""},{"location":"api/#lister-toutes-les-lecons","title":"Lister toutes les le\u00e7ons","text":"<p>GET <code>/lesson</code></p> <ul> <li>Description : Retourne la liste de toutes les le\u00e7ons disponibles.</li> <li>Controller : <code>LessonController</code></li> </ul>"},{"location":"api/#details-dune-lecon","title":"D\u00e9tails d'une le\u00e7on","text":"<p>GET <code>/lesson/{id}</code></p> <ul> <li>Param\u00e8tres :</li> <li><code>{id}</code> : Identifiant d'une le\u00e7on.</li> <li>Description : Affiche les d\u00e9tails d'une le\u00e7on sp\u00e9cifique.</li> <li>Controller : <code>LessonController</code></li> </ul>"},{"location":"api/#ajouter-une-lecon","title":"Ajouter une le\u00e7on","text":"<p>POST <code>/dashboard/lesson</code></p> <ul> <li>Description : Permet d'ajouter une nouvelle le\u00e7on.</li> <li>Controller : <code>LessonController</code></li> </ul>"},{"location":"api/#modifier-un-theme_1","title":"Modifier un th\u00e8me","text":"<p>GET <code>/lesson/edit/{id}</code></p> <ul> <li>Param\u00e8tres :</li> <li><code>{id}</code> : Identifiant d'une le\u00e7on.</li> <li>Description : Permet de modifier une le\u00e7on existante.</li> <li>Controller : <code>LessonController</code></li> </ul>"},{"location":"api/#supprimer-un-theme_1","title":"Supprimer un th\u00e8me","text":"<p>DELETE <code>/lesson/delete/{id}</code></p> <ul> <li>Param\u00e8tres :</li> <li><code>{id}</code> : Identifiant d'une le\u00e7on.</li> <li>Description : Supprime une le\u00e7on existante.</li> <li>Controller : <code>LessonController</code></li> </ul>"},{"location":"api/#gestion-des-achats","title":"\ud83d\udccc Gestion des Achats","text":""},{"location":"api/#afficher-le-panier","title":"Afficher le panier","text":"<p>GET <code>/cart</code></p> <ul> <li>Description : Affiche les articles en attente dans le panier de l'utilisateur.</li> <li>Controller : <code>PurchaseController</code></li> </ul>"},{"location":"api/#ajouter-un-article-au-panier","title":"Ajouter un article au panier","text":"<p>POST <code>/cart/add/{type}/{id}</code></p> <ul> <li>Description : Ajoute une le\u00e7on ou un cursus au panier.</li> <li>Param\u00e8tres :</li> <li><code>{type}</code> : Type d'article (<code>lesson</code> ou <code>cursus</code>).</li> <li><code>{id}</code> : Identifiant de l'article.</li> <li>Controller : <code>PurchaseController</code></li> </ul>"},{"location":"api/#supprimer-un-article-du-panier","title":"Supprimer un article du panier","text":"<p>DELETE <code>/cart/remove/{id}</code></p> <ul> <li>Description : Supprime un article du panier.</li> <li>Param\u00e8tres :</li> <li><code>{id}</code> : Identifiant de l'article.</li> <li>Controller : <code>PurchaseController</code></li> </ul>"},{"location":"deploiement/","title":"\ud83d\ude80 D\u00e9ploiement sur Heroku","text":"<p>Ce guide vous explique comment d\u00e9ployer votre projet Symfony sur Heroku.</p>"},{"location":"deploiement/#prerequis","title":"\ud83d\udd39 Pr\u00e9requis","text":"<ul> <li>Compte Heroku : Inscrivez-vous sur Heroku.</li> <li>Heroku CLI : T\u00e9l\u00e9chargez et installez la CLI Heroku : Heroku CLI.</li> <li>Composer et Git doivent \u00eatre install\u00e9s sur votre machine.</li> <li>Base de donn\u00e9es : MySQL.</li> </ul>"},{"location":"deploiement/#etapes-de-deploiement","title":"\ud83d\udd39 \u00c9tapes de D\u00e9ploiement","text":""},{"location":"deploiement/#1-initialiser-le-projet","title":"1\ufe0f\u20e3 Initialiser le projet","text":"<ol> <li>Connectez-vous \u00e0 Heroku depuis la ligne de commande :</li> </ol> <pre><code>heroku login\n</code></pre> <ol> <li>Acc\u00e9dez \u00e0 la racine de votre projet Symfony :</li> </ol> <pre><code>cd knowledge-learning\n</code></pre> <ol> <li>Cr\u00e9ez une application Heroku :</li> </ol> <pre><code>heroku create nom-de-votre-application\n</code></pre>"},{"location":"deploiement/#2-configuration-de-la-base-de-donnees","title":"2\ufe0f\u20e3 Configuration de la base de donn\u00e9es","text":"<ol> <li>Ajoutez l\u2019add-on JawsDB :</li> </ol> <pre><code>heroku addons:create jawsdb\n</code></pre> <ol> <li>Configurez la variable d\u2019environnement DATABASE_URL dans Heroku :</li> </ol> <pre><code>heroku config:set DATABASE_URL=$(heroku config:get DATABASE_URL)\n</code></pre>"},{"location":"deploiement/#3-configurer-symfony-pour-le-deploiement","title":"3\ufe0f\u20e3 Configurer Symfony pour le d\u00e9ploiement","text":"<ol> <li>Installez le bundle Heroku pour Symfony :</li> </ol> <pre><code>composer require symfony/heroku-bundle\n</code></pre> <ol> <li>Ajoutez une variable d\u2019environnement pour le APP_ENV :</li> </ol> <pre><code>heroku config:set APP_ENV=prod\n</code></pre> <ol> <li>Configurez la cl\u00e9 secr\u00e8te de Symfony :</li> </ol> <pre><code>heroku config:set APP_SECRET=your_secret_key\n</code></pre> <ol> <li>Si vous utilisez Stripe, ajoutez vos cl\u00e9s Stripe :</li> </ol> <pre><code>heroku config:set STRIPE_SECRET_KEY=sk_test_votre_cle\nheroku config:set STRIPE_PUBLIC_KEY=pk_test_votre_cle\n</code></pre>"},{"location":"deploiement/#4-preparer-le-projet-pour-heroku","title":"4\ufe0f\u20e3 Pr\u00e9parer le projet pour Heroku","text":"<ol> <li>Ajoutez un fichier Procfile \u00e0 la racine du projet avec le contenu suivant :</li> </ol> <pre><code>web: heroku-php-apache2 public/\n</code></pre> <ol> <li>Assurez-vous que votre fichier .env contient la ligne suivante pour lire les variables d\u2019environnement de Heroku :</li> </ol> <pre><code>APP_ENV=prod\nDATABASE_URL=${DATABASE_URL}\n</code></pre>"},{"location":"deploiement/#5-deployer-le-projet","title":"5\ufe0f\u20e3 D\u00e9ployer le projet","text":"<ol> <li>Initialisez Git si ce n\u2019est pas d\u00e9j\u00e0 fait :</li> </ol> <pre><code>git init\ngit add .\ngit commit -m \"Initial commit\"\n</code></pre> <ol> <li>Ajoutez Heroku comme remote Git :</li> </ol> <pre><code>heroku git:remote -a nom-de-votre-application\n</code></pre> <ol> <li>D\u00e9ployez votre projet sur Heroku :</li> </ol> <pre><code>git push heroku main\n</code></pre>"},{"location":"deploiement/#6-migrer-la-base-de-donnees","title":"6\ufe0f\u20e3 Migrer la base de donn\u00e9es","text":"<ol> <li>Ex\u00e9cutez les migrations sur la base de donn\u00e9es Heroku :</li> </ol> <pre><code>heroku run php bin/console doctrine:migrations:migrate\n</code></pre>"},{"location":"deploiement/#7-tester-le-deploiement","title":"7\ufe0f\u20e3 Tester le d\u00e9ploiement","text":"<ol> <li>Ouvrez votre application dans un navigateur :</li> </ol> <pre><code>heroku open\n</code></pre>"},{"location":"installation/","title":"\ud83d\udce5 Installation","text":""},{"location":"installation/#prerequis","title":"\ud83d\udd39 Pr\u00e9requis","text":"<ul> <li>PHP 8.2+</li> <li>Composer</li> <li>Symfony CLI</li> <li>MySQL ou PostgreSQL</li> </ul>"},{"location":"installation/#etapes-dinstallation","title":"\ud83d\udd39 \u00c9tapes d'installation","text":"<ol> <li>Cloner le d\u00e9p\u00f4t et installer les d\u00e9pendances : </li> </ol> <pre><code>git clone https://github.com/Emmatremlet/knowledge_learning.git\ncd knowledge-learning\ncomposer install\n</code></pre> <ol> <li>Configurer le fichier <code>.env</code> :</li> </ol> <pre><code>DATABASE_URL=\"mysql://db_user:db_password@127.0.0.1:8000knowledge_learning\"\nMAILER_DSN=\"smtp://localhost\"\nSTRIPE_SECRET_KEY=sk_test_votrecle\nSTRIPE_PUBLIC_KEY=pk_test_votrecle\nSTRIPE_WEBHOOK_SECRET=whsec_votrecle\n</code></pre> <ol> <li>Cr\u00e9ez la base de donn\u00e9es, appliquez les migrations et load les fixtures</li> </ol> <pre><code>php bin/console doctrine:database:create\nphp bin/console doctrine:migrations:migrate\nphp bin/console doctrine:fixtures:load\n</code></pre> <ol> <li>Lancez le serveur</li> </ol> <pre><code>symfony server:start\n</code></pre> <ol> <li>Lancez Stripe CLI pour les webhooks :</li> </ol> <pre><code>stripe listen --forward-to http://127.0.0.1:8000/webhook\n</code></pre> <ol> <li>Se connecter en tant qu'administrateur : </li> </ol> <pre><code>Email : admin@example.com\nPassword : password123\n</code></pre>"},{"location":"securite/","title":"\ud83d\udd10 S\u00e9curit\u00e9 et Authentification","text":""},{"location":"securite/#gestion-des-utilisateurs-et-des-roles","title":"\ud83d\udd39 Gestion des Utilisateurs et des R\u00f4les","text":""},{"location":"securite/#connexion-et-deconnexion","title":"\ud83d\udccc Connexion et D\u00e9connexion","text":""},{"location":"securite/#connexion-dun-utilisateur","title":"Connexion d'un utilisateur","text":"<p>GET <code>/login</code></p> <ul> <li>Description : Permet \u00e0 l'utilisateur de se connecter.</li> <li>Controller : <code>SecurityController</code></li> </ul>"},{"location":"securite/#deconnexion-dun-utilisateur","title":"D\u00e9connexion d'un utilisateur","text":"<p>GET <code>/logout</code></p> <ul> <li>Description : Permet \u00e0 l'utilisateur de se d\u00e9connecter.</li> <li>Controller : <code>SecurityController</code></li> </ul>"},{"location":"securite/#paiements-securises-avec-stripe","title":"\ud83d\udccc Paiements s\u00e9curis\u00e9s avec Stripe","text":""},{"location":"securite/#creer-une-session-de-paiement-stripe","title":"Cr\u00e9er une session de paiement Stripe","text":"<p>POST <code>/checkout</code></p> <ul> <li>Description : Cr\u00e9e une session Stripe pour les articles du panier.</li> <li>Controller : <code>StripeController</code></li> </ul>"},{"location":"securite/#gestion-des-webhooks-stripe","title":"Gestion des webhooks Stripe","text":"<p>POST <code>/webhook</code></p> <ul> <li>Description : Traite les \u00e9v\u00e9nements Stripe (paiements, annulations, etc.).</li> <li>Controller : <code>StripeController</code></li> </ul>"},{"location":"securite/#securite-des-routes","title":"\ud83d\udd39 S\u00e9curit\u00e9 des Routes","text":""},{"location":"securite/#protection-csrf","title":"\ud83d\udd39 Protection CSRF","text":"<p>Toutes les actions sensibles (ajout, modification, suppression) sont prot\u00e9g\u00e9es par des jetons CSRF.</p>"},{"location":"securite/#verification-des-roles","title":"\ud83d\udd39 V\u00e9rification des R\u00f4les","text":"<ul> <li><code>ROLE_USER</code> : Acc\u00e8s de base pour les utilisateurs authentifi\u00e9s.</li> <li><code>ROLE_ADMIN</code> : Acc\u00e8s aux fonctionnalit\u00e9s administratives.</li> </ul>"},{"location":"securite/#bonnes-pratiques","title":"\ud83d\udd39 Bonnes Pratiques","text":"<ol> <li>Activer un pare-feu pour prot\u00e9ger les routes sensibles.</li> <li>Utiliser HTTPS en production pour s\u00e9curiser les \u00e9changes.</li> <li>Ne jamais exposer les variables sensibles (<code>.env</code>) publiquement.</li> </ol>"},{"location":"utilisation/","title":"\ud83d\udda5\ufe0f Utilisation du Projet","text":""},{"location":"utilisation/#connexion-et-inscription","title":"\ud83d\udccc Connexion et Inscription","text":"<p>L'utilisateur peut cr\u00e9er un compte et se connecter \u00e0 l'application via <code>/login</code>.</p>"},{"location":"utilisation/#gestion-des-themes","title":"\ud83d\udccc Gestion des Themes","text":"<ul> <li>Ajouter un th\u00e8me via <code>/dashboard/theme</code></li> <li>Modifier un th\u00e8me <code>/theme/edit/{id}</code></li> <li>Supprimer un th\u00e8me <code>/theme/delete/{id}</code></li> </ul>"},{"location":"utilisation/#gestion-des-cursus","title":"\ud83d\udccc Gestion des Cursus","text":"<ul> <li>Ajouter un cursus via <code>/dashboard/cursus</code></li> <li>Modifier un cursus <code>/cursus/edit/{id}</code></li> <li>Supprimer un cursus <code>/cursus/delete/{id}</code></li> </ul>"},{"location":"utilisation/#gestion-des-lessons","title":"\ud83d\udccc Gestion des Lessons","text":"<ul> <li>Ajouter un lesson via <code>/dashboard/lesson</code></li> <li>Modifier un lesson <code>/lesson/edit/{id}</code></li> <li>Supprimer un lesson <code>/lesson/delete/{id}</code></li> </ul>"},{"location":"utilisation/#commandes-et-paiement","title":"\ud83d\udccc Commandes et Paiement","text":"<ul> <li>Un utilisateur peut ajouter un produit \u00e0 son panier</li> <li>Paiement s\u00e9curis\u00e9 via Stripe</li> </ul>"}]}